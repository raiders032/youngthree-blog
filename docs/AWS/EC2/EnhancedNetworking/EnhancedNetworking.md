## 1 AWS EC2 Enhanced Networking 소개

- AWS EC2(Elastic Compute Cloud)의 Enhanced Networking은 클라우드 환경에서 네트워크 성능을 크게 향상시키는 기술입니다.
- 이 기술은 SR-IOV(Single Root I/O Virtualization)를 기반으로 하며, 가상 머신과 네트워크 인터페이스 간의 직접적인 통신을 가능하게 합니다.
- Enhanced Networking을 통해 높은 대역폭, 높은 PPS(초당 패킷 수), 낮은 지연 시간 등의 이점을 얻을 수 있습니다.



## 2 Enhanced Networking의 주요 특징

- 높은 대역폭: 기존 네트워킹 방식보다 훨씬 더 많은 데이터를 전송할 수 있습니다.
- 높은 PPS(Packet Per Second): 초당 처리할 수 있는 패킷의 수가 증가하여 네트워크 처리 능력이 향상됩니다.
- 낮은 지연 시간: 네트워크 요청에 대한 응답 시간이 단축되어 애플리케이션의 반응성이 개선됩니다.
- CPU 부하 감소: 네트워킹 작업을 위한 CPU 사용량이 줄어들어 다른 작업에 더 많은 리소스를 할당할 수 있습니다.



## 3 Enhanced Networking 구현 옵션

- EC2에서 Enhanced Networking을 구현하는 방법에는 두 가지 주요 옵션이 있습니다:



### 3.1 Elastic Network Adapter (ENA)

- ENA는 최대 100 Gbps의 네트워크 대역폭을 지원합니다.
- 최신 세대의 EC2 인스턴스에서 주로 사용됩니다.
- 높은 처리량과 낮은 지연 시간이 필요한 대규모 워크로드에 적합합니다.



### 3.2 Intel 82599 Virtual Function (VF) 인터페이스

- 최대 10 Gbps의 네트워크 대역폭을 지원합니다.
- 레거시(구형) 인스턴스 유형에서 사용되는 옵션입니다.
- 점차 ENA로 대체되고 있지만, 일부 특정 워크로드나 구형 인스턴스에서는 여전히 사용됩니다.



## 4 Elastic Fabric Adapter (EFA)

- EFA는 Enhanced Networking의 발전된 형태로, 고성능 컴퓨팅(HPC) 워크로드를 위해 특별히 설계되었습니다.
- 현재는 Linux 운영 체제에서만 사용 가능합니다.
- EFA의 주요 특징은 다음과 같습니다:
	- 노드 간 통신 개선: HPC 클러스터에서 여러 노드 간의 효율적인 통신을 지원합니다.
	- 밀접하게 결합된 워크로드에 최적화: 여러 컴퓨터가 협력하여 복잡한 계산을 수행하는 환경에 적합합니다.
	- MPI(Message Passing Interface) 표준 활용: HPC 애플리케이션에서 널리 사용되는 MPI 프로토콜을 지원합니다.
	- OS 우회 기능: 기본 Linux 운영 체제를 우회하여 더 낮은 지연 시간과 안정적인 전송을 제공합니다.



## 5 Enhanced Networking 사용 시 고려사항

- 인스턴스 유형 호환성: 모든 EC2 인스턴스 유형이 Enhanced Networking을 지원하는 것은 아닙니다. 사용하려는 인스턴스 유형이 이 기능을 지원하는지 확인해야 합니다.
- AMI 요구사항: Enhanced Networking을 사용하려면 이를 지원하는 AMI(Amazon Machine Image)를 사용해야 합니다.
- 네트워크 드라이버: 적절한 네트워크 드라이버가 설치되어 있어야 합니다. 대부분의 최신 AMI에는 이미 포함되어 있지만, 사용자 지정 AMI를 사용하는 경우 확인이 필요합니다.
- 보안 그룹 및 네트워크 ACL: Enhanced Networking을 사용하더라도 기존의 보안 그룹 규칙과 네트워크 ACL은 여전히 적용됩니다.



## 6 Enhanced Networking의 활용 사례

- 고성능 컴퓨팅(HPC): 복잡한 과학적 계산, 기상 예측, 금융 모델링 등에 활용됩니다.
- 빅데이터 처리: 대용량 데이터의 실시간 처리와 분석에 유용합니다.
- 게임 서버: 많은 플레이어를 동시에 처리해야 하는 게임 서버에 적합합니다.
- 미디어 스트리밍: 고화질 비디오 스트리밍 서비스에 활용될 수 있습니다.
- 네트워크 어플라이언스: 방화벽, 로드 밸런서 등 네트워크 트래픽을 많이 처리하는 애플리케이션에 적합합니다.



## 7 결론

- AWS EC2의 Enhanced Networking은 클라우드 환경에서 네트워크 성능을 크게 향상시키는 중요한 기술입니다.
- ENA와 Intel 82599 VF, 그리고 더 발전된 형태인 EFA를 통해 다양한 수준의 네트워크 성능 향상을 제공합니다.
- 고성능 컴퓨팅, 빅데이터 처리, 실시간 애플리케이션 등 높은 네트워크 성능이 요구되는 워크로드에 특히 유용합니다.
- Enhanced Networking을 효과적으로 활용하기 위해서는 인스턴스 유형, AMI, 드라이버 등의 요구사항을 잘 이해하고 적용해야 합니다.
- 클라우드 기술이 발전함에 따라 Enhanced Networking의 중요성은 더욱 커질 것으로 예상되며, AWS는 지속적으로 이 기술을 개선하고 있습니다.