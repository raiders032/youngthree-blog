## 1 AWS Burstable Instances 소개

- AWS(Amazon Web Services)는 Burstable Instances라는 특별한 유형의 EC2(Elastic Compute Cloud) 인스턴스를 제공합니다.
- 이 인스턴스들은 T 시리즈로 알려져 있으며, 현재 T2, T3, T3a, T4g 등의 다양한 세대가 존재합니다.
- Burstable Instances는 변동성 있는 워크로드를 처리하는 데 특히 유용한 유연한 컴퓨팅 옵션입니다.



## 2 Burstable Instances의 개념

- "Burst"란 용어는 '갑자기 증가하다' 또는 '폭발적으로 늘어나다'라는 의미를 가집니다.
- Burstable Instances는 일반적으로 안정적인 CPU 성능을 제공하지만, 필요할 때 CPU 성능을 크게 높일 수 있습니다.
- 이 인스턴스들은 평소에는 적당한 CPU 성능을 유지하다가, 갑작스러운 부하 증가 시 높은 CPU 성능을 제공할 수 있습니다.



## 3 CPU 크레딧 시스템

- Burstable Instances는 'CPU 크레딧' 시스템을 사용하여 작동합니다.
- CPU 크레딧은 인스턴스가 고성능으로 작동할 수 있는 시간을 나타냅니다.
- 인스턴스는 지속적으로 CPU 크레딧을 축적합니다.
- CPU 사용량이 기준선 이하일 때 크레딧이 쌓이고, 기준선 이상일 때 크레딧을 소비합니다.



## 4 CPU 크레딧의 작동 방식

- 인스턴스가 'burst' 모드로 들어가면 축적된 CPU 크레딧을 사용합니다.
- 크레딧이 있는 동안 인스턴스는 매우 높은 CPU 성능을 발휘할 수 있습니다.
- 모든 크레딧을 소진하면 CPU 성능이 기준선 수준으로 떨어집니다.
- 부하가 감소하면 인스턴스는 다시 크레딧을 축적하기 시작합니다.



## 5 Burstable Instances의 장점

- 예측할 수 없는 트래픽 처리에 탁월합니다.
- 갑작스러운 부하 증가 시 높은 성능을 제공할 수 있습니다.
- 평소에는 낮은 비용으로 운영할 수 있어 비용 효율적입니다.
- 소규모 웹서버, 개발/테스트 환경, 가벼운 데이터베이스 서버 등에 적합합니다.



## 6 Burstable Instances 사용 시 주의사항

- 지속적으로 높은 CPU 성능이 필요한 워크로드에는 적합하지 않을 수 있습니다.
- CPU 크레딧을 모두 소진하면 성능이 크게 저하될 수 있습니다.
- CPU 크레딧 잔액을 주기적으로 모니터링해야 합니다.



## 7 CPU 크레딧 모니터링

- AWS CloudWatch를 통해 CPU 크레딧 잔액을 모니터링할 수 있습니다.
- CPU 크레딧 잔액이 지속적으로 낮다면 다른 인스턴스 유형으로의 전환을 고려해야 합니다.



**CloudWatch에서 CPU 크레딧 확인 명령어**

```bash
aws cloudwatch get-metric-statistics --namespace AWS/EC2 --metric-name CPUCreditBalance --dimensions Name=InstanceId,Value=i-1234567890abcdef0 --start-time 2023-01-01T00:00:00 --end-time 2023-01-02T00:00:00 --period 300 --statistics Average
```

- 이 명령어는 지정된 인스턴스의 CPU 크레딧 잔액을 5분 간격으로 보여줍니다.
- `--dimensions` 옵션의 `Value`에는 모니터링하고자 하는 인스턴스의 ID를 입력해야 합니다.



## 8 Burstable Instances 유형 및 선택 가이드

- T2 인스턴스: 첫 번째 세대의 Burstable Instances입니다. 기본적인 성능과 가격 효율성을 제공합니다.
- T3 인스턴스: T2의 향상된 버전으로, 더 나은 성능과 비용 효율성을 제공합니다.
- T3a 인스턴스: AMD EPYC 프로세서를 사용하는 T3 변형으로, 더 낮은 가격을 제공합니다.
- T4g 인스턴스: AWS Graviton2 프로세서를 사용하는 최신 세대로, 최고의 가격 대비 성능을 제공합니다.
- 워크로드 패턴을 분석하여 적절한 인스턴스 유형을 선택해야 합니다.
- 지속적으로 높은 CPU 사용률이 필요한 경우, M5나 C5와 같은 비 버스트 인스턴스를 고려해야 합니다.



## 9 Unlimited 모드

- T2, T3, T3a, T4g 인스턴스는 'Unlimited' 모드를 지원합니다.
- Unlimited 모드에서는 CPU 크레딧이 소진되어도 추가 비용을 지불하고 계속해서 높은 성능을 유지할 수 있습니다.
- 이 모드는 예측할 수 없는 워크로드나 일시적으로 높은 CPU 사용률이 필요한 경우에 유용합니다.
- 단, 과도한 사용 시 예상치 못한 비용이 발생할 수 있으므로 주의가 필요합니다.



## 10 결론

- Burstable Instances는 T2, T3, T3a, T4g 등 다양한 세대로 제공되며, 각각 고유한 특성과 장점을 가지고 있습니다.
- 이러한 인스턴스들은 변동성 있는 워크로드에 대해 비용 효율적인 솔루션을 제공합니다.
- CPU 크레딧 시스템을 이해하고 적절히 관리하는 것이 중요합니다.
- 워크로드 특성을 잘 파악하여 적절한 Burstable Instance 유형을 선택하고 그 장점을 최대한 활용할 수 있습니다.
- 지속적인 모니터링과 필요시 인스턴스 유형 변경을 통해 최적의 성능과 비용 효율성을 달성할 수 있습니다.
- Unlimited 모드를 활용하면 더욱 유연한 성능 관리가 가능하지만, 비용 관리에 주의를 기울여야 합니다.