## 1 Elastic Block Store

- Amazon Elastic Block Store (EBS)는 Amazon EC2 인스턴스와 함께 사용하도록 설계된 사용자 친화적이고 확장 가능한 고성능 블록 스토리지 서비스입니다.
- Amazon EBS를 사용하면 스토리지 볼륨을 생성하여 Amazon EC2 인스턴스에 연결할 수 있습니다.
- 네트워크 드라이브로 EC2 인스턴스에 연결할 수 있으며, 약간의 지연 시간이 발생할 수 있습니다.
    - EBS를 분리하여 다른 인스턴스에 연결할 수 있습니다.
- EC2 인스턴스가 종료되더라도 데이터를 영속화할 수 있습니다.
- 한 번에 하나의 인스턴스에만 할당할 수 있으며, 하나의 인스턴스는 여러 개의 EBS를 가질 수 있습니다.
- 하나의 가용 영역(AZ)에 종속되며, 같은 AZ에 있는 EC2 인스턴스에만 연결할 수 있습니다.
    - 다른 AZ로 이동하려면 스냅샷이 필요합니다.
- 기본적으로 루트 볼륨 유형은 "Delete On Termination" 속성이 체크되어 있어 인스턴스 종료 시 삭제됩니다.
- 다른 EBS 볼륨 유형은 기본적으로 "Delete On Termination" 속성이 비활성화되어 있어 인스턴스 종료 시 삭제되지 않습니다.



## 2 EBS Multi-Attach

- [레퍼런스](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volumes-multi.html)
- 하나의 IOPS SSD (`io1` 또는 `io2`) 볼륨을 동일한 가용 영역(AZ)에 있는 여러 인스턴스에 부착할 수 있습니다.
- 모든 연결된 인스턴스에서 데이터를 읽고 쓸 수 있으므로, 여러 인스턴스가 동일한 데이터 세트를 사용하여 작업할 수 있습니다.
- Multi-Attach를 사용할 때는 동시에 볼륨에 액세스하는 인스턴스들 간에 데이터 일관성을 유지하기 위해 클러스터링 소프트웨어 또는 다른 동기화 메커니즘이 필요합니다.
- 현재 이 기능은 `io1` 및 `io2` 볼륨 타입에만 지원되며, 일부 지역에서만 사용 가능할 수 있습니다.
- 최대 16개의 인스턴스가 공유할 수 있습니다.



## 3 Amazon Data Lifecycle Manager

- [AWS Data Lifecycle Manager 공식 문서](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/snapshot-lifecycle.html)
- Amazon Data Lifecycle Manager를 사용하면 EBS 스냅샷과 EBS 지원 AMI의 생성, 보존, 삭제를 자동화할 수 있습니다.
- 스냅샷 및 AMI 관리를 자동화하면 다음과 같은 이점을 얻을 수 있습니다:
    - 정기적인 백업 일정을 통해 중요한 데이터를 보호합니다.
    - 정기적으로 갱신되는 표준화된 AMI를 생성합니다.
    - 감사자나 내부 규정 준수를 위해 백업을 보존합니다.
    - 오래된 백업을 삭제하여 스토리지 비용을 절감합니다.
    - 데이터를 격리된 리전이나 계정으로 백업하는 재해 복구 백업 정책을 생성합니다.



## 4 EBS Encryption

- Amazon EBS 암호화는 데이터를 보호하기 위해 사용할 수 있는 기능으로, 저장된 데이터, 스냅샷 및 데이터가 전송되는 동안 자동으로 암호화됩니다. 
- EBS 암호화는 AWS Key Management Service(KMS)를 사용하여 관리되는 키를 활용합니다.



### 4.1 EBS 암호화 사용 방법

#### 4.1.1 암호화된 EBS 볼륨 생성

1. **새 볼륨 생성 시 암호화**:
    - AWS Management Console에서 `EBS` 섹션으로 이동합니다.
    - `Create Volume`을 선택한 후, `Encryption` 섹션에서 `Encrypt this volume` 옵션을 선택합니다.
    - 사용할 KMS 키를 선택합니다. 기본적으로 AWS에서 관리하는 기본 키가 사용되지만, 필요에 따라 사용자 정의 KMS 키를 사용할 수도 있습니다.
2. **암호화된 스냅샷에서 볼륨 생성**:
    - 기존 암호화된 스냅샷을 사용하여 새로운 EBS 볼륨을 생성할 수 있습니다.
    - 스냅샷에서 볼륨을 생성할 때, 암호화 설정이 자동으로 상속됩니다.



#### 4.1.2 기존 볼륨 암호화

- 기존에 암호화되지 않은 볼륨을 직접 암호화할 수는 없지만, 아래와 같은 방법으로 데이터를 암호화된 볼륨으로 이동할 수 있습니다:
	- 암호화되지 않은 볼륨의 스냅샷을 생성합니다.
	- 생성된 스냅샷을 암호화된 스냅샷으로 복사합니다.
	- 암호화된 스냅샷에서 새로운 암호화된 볼륨을 생성합니다.
	- 새로운 암호화된 볼륨을 기존 인스턴스에 연결합니다.



#### 4.1.3 자동 암호화

- 계정 내 모든 새 EBS 볼륨과 스냅샷이 자동으로 암호화되도록 설정할 수 있습니다.
    - AWS Management Console에서 `EC2` 서비스로 이동합니다.
    - `Settings`에서 `EBS encryption` 옵션을 활성화합니다.
    - 사용할 기본 KMS 키를 선택합니다.



### 4.2 주요 특징

- **투명한 암호화**: EBS 암호화는 사용자 개입 없이 자동으로 데이터 암호화 및 복호화를 처리합니다.
- **KMS 통합**: AWS Key Management Service(KMS)와 통합되어 강력한 키 관리와 제어를 제공합니다.
- **성능 저하 없음**: EBS 암호화는 성능에 영향을 미치지 않습니다.



### 4.3 보안 강화

- **전송 중 데이터 보호**: EBS 암호화는 볼륨과 인스턴스 간의 데이터 전송 시 데이터를 보호합니다.
- **저장된 데이터 보호**: 모든 저장된 데이터와 스냅샷은 암호화되어 비인가 접근으로부터 보호됩니다.



### 4.4 비용

- EBS 암호화는 추가 비용 없이 사용할 수 있습니다. 그러나 KMS 키 사용에 따른 비용은 발생할 수 있습니다.



### 4.5 고려사항

- **지원하는 볼륨 유형**: 모든 EBS 볼륨 유형(gp2, gp3, io1, io2, st1, sc1)이 암호화를 지원합니다.
- **키 관리**: 사용자 정의 KMS 키를 사용할 경우, 키의 생성, 회전 및 삭제를 적절히 관리해야 합니다.
- **규정 준수**: 암호화 요구사항을 충족하여 데이터 보호 규정을 준수할 수 있습니다.