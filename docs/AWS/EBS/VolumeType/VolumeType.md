## 1 Amazon EBS 볼륨 타입

- Amazon EBS는 EC2 인스턴스를 위한 블록 스토리지 서비스입니다.
- 워크로드 특성에 따라 적절한 볼륨 타입을 선택하는 것이 매우 중요합니다.
- 잘못된 볼륨 타입 선택은 성능 저하와 비용 증가를 초래할 수 있습니다.



## 2 SSD 기반 볼륨 타입

### 2.1 General Purpose SSD (gp2 vs gp3)

#### 2.1.1 gp3의 특징

- **기본 성능**:
	- 기본적으로 3,000 IOPS와 125MiB/s 처리량 제공
	- 볼륨 크기와 관계없이 일관된 성능 제공
	- 버스트 크레딧 방식을 사용하지 않음
- **성능 확장**:
	- IOPS를 최대 16,000까지 설정 가능
	- 처리량을 최대 1,000MiB/s까지 별도로 설정 가능
	- 볼륨 크기를 늘리지 않고도 성능을 높일 수 있음
- **비용 효율성**:
	- gp2보다 20% 저렴한 기본 요금
	- 필요한 만큼만 IOPS와 처리량을 설정하여 비용 최적화 가능



#### 2.1.2 gp2의 특징

- **성능 특성**:
	- 볼륨 크기에 따라 IOPS가 연동 (1GiB당 3 IOPS)
	- 최대 16,000 IOPS까지 지원
	- 버스트 크레딧 방식 사용
- **제한 사항**:
	- 크레딧 소진 시 기본 성능으로 저하
	- 볼륨 크기 증가 없이 IOPS 향상 불가
	- 성능 예측이 어려울 수 있음



### 2.2 Provisioned IOPS SSD (io1/io2)

#### 2.2.1 io1의 특징

- **성능**:
	- Nitro 기반 인스턴스에서 최대 64,000 IOPS
	- 일반 인스턴스에서 최대 32,000 IOPS
	- 사용자 지정 IOPS 설정 가능
- **용도**:
	- 고성능이 필요한 데이터베이스 워크로드
	- 일관된 I/O 성능이 중요한 애플리케이션
	- 크기 범위: 4GiB - 16TiB



#### 2.2.2 io2의 특징

- **성능**:
	- 최대 256,000 IOPS (IOPS 비율 1,000:1)
	- EBS Multi-Attach 지원
	- 더 높은 내구성 제공
- **용도**:
	- 미션 크리티컬한 워크로드
	- 고성능 데이터베이스
	- 크기 범위: 4GiB - 64TiB



## 3 HDD 기반 볼륨 타입

### 3.1 Throughput Optimized HDD (st1)

- **특징**:
	- 최대 처리량 500MiB/s
	- 최대 IOPS 500
	- 크기 범위: 125GiB - 16TiB
- **적합한 워크로드**:
	- 빅데이터 처리
	- 데이터 웨어하우스
	- 로그 처리
	- 순차적 읽기/쓰기가 많은 워크로드



### 3.2 Cold HDD (sc1)

- **특징**:
	- 최대 처리량 250MiB/s
	- 최대 IOPS 250
	- 크기 범위: 125GiB - 16TiB
- **적합한 워크로드**:
	- 자주 접근하지 않는 데이터 저장
	- 최저 비용이 우선순위인 백업 storage
	- 아카이브 데이터



## 4 워크로드별 볼륨 타입 선택 가이드

### 4.1 데이터베이스 워크로드

#### 4.1.1 권장 볼륨 타입

1. **고성능 필요 시**:
	- io1/io2: 미션 크리티컬한 데이터베이스
	- 예측 가능한 일관된 성능 필요 시
1. **중간 성능 필요 시**:
	- gp3: 일반적인 데이터베이스 워크로드
	- 비용 효율적이면서 일관된 성능 필요 시



#### 4.1.2 피해야 할 볼륨 타입

- st1/sc1: 데이터베이스 워크로드에 부적합
- 낮은 IOPS로 인한 심각한 성능 저하 발생



### 4.2 빅데이터/로그 처리 워크로드

#### 4.2.1 권장 볼륨 타입

- **st1**:
	- 순차적 읽기/쓰기가 많은 경우
	- 처리량이 중요한 경우
	- 비용 효율성이 중요한 경우

#### 4.2.2 고려사항

- IOPS보다 처리량이 중요한 워크로드
- 무작위 액세스가 적은 워크로드
- 비용 최적화가 필요한 경우



## 5 성능 문제 해결 가이드

### 5.1 성능 저하 시 확인사항

- CloudWatch 메트릭 모니터링:
	- VolumeReadOps
	- VolumeWriteOps
	- VolumeQueueLength



### 5.2 볼륨 타입 변경 고려사항

- gp2에서 gp3로 변경:
	- 버스트 크레딧 소진 문제 해결
	- 예측 가능한 성능 확보
	- 비용 최적화



### 5.3 마이그레이션 절차

1. 볼륨 스냅샷 생성
2. 새로운 볼륨 타입으로 복원
3. 필요한 IOPS/처리량 설정
4. 워크로드 테스트 및 모니터링



## 6 비용 최적화 전략

### 6.1 볼륨 타입별 비용 비교

- gp3: 기본 요금이 가장 저렴한 SSD 옵션
- gp2: 크기에 따라 IOPS가 결정되어 비용 예측 용이
- io1/io2: 가장 비싸지만 최고 성능 제공
- st1/sc1: 가장 저렴한 옵션이나 용도가 제한적



### 6.2 비용 절감 팁

- 불필요한 프로비저닝된 IOPS 제거
- 미사용 볼륨 식별 및 제거
- 적절한 볼륨 크기 설정
- 주기적인 성능 모니터링 및 최적화