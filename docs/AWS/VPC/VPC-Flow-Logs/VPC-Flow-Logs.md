---
title: "Flow Logs"
description: "AWS VPC Flow Logs의 핵심 개념부터 실전 활용법까지 상세히 알아봅니다. 네트워크 트래픽 모니터링, 보안 분석, 문제 해결을 위한 실용적인 가이드입니다."
tags: ["VPC_FLOW_LOGS", "SECURITY_GROUP", "NACL", "VPC", "NETWORKING", "MONITORING", "AWS", "CLOUD"]
keywords: ["VPC 플로우 로그", "VPC Flow Logs", "네트워크 모니터링", "network monitoring", "보안 그룹", "security group", "넥클", "NACL", "네트워크 ACL", "network ACL", "AWS", "아마존 웹서비스", "amazon web services", "클라우드", "cloud", "네트워크 트래픽", "network traffic"]
draft: false
hide_title: true
---

## 1. VPC Flow Logs 개요

- VPC Flow Logs는 VPC의 네트워크 인터페이스를 통과하는 IP 트래픽 정보를 캡처하는 기능입니다
- 네트워크 트래픽을 모니터링하고 문제를 해결하는 데 필수적인 도구입니다
- 보안 분석과 규정 준수 확인에도 활용할 수 있습니다

## 2. 주요 특징

### 2.1 다양한 로깅 레벨

- VPC 전체 수준에서 트래픽 로깅이 가능합니다
- 개별 서브넷 단위로 로그를 캡처할 수 있습니다
- 특정 네트워크 인터페이스(ENI)만 선택적으로 모니터링할 수 있습니다

### 2.2 유연한 저장 옵션

- Amazon S3에 로그를 직접 저장할 수 있습니다
- CloudWatch Logs로 실시간 모니터링이 가능합니다
- Kinesis Data Firehose를 통해 실시간 데이터 처리가 가능합니다

### 2.3 강력한 문제 해결 기능

- 보안 그룹과 NACL 관련 문제를 신속하게 진단할 수 있습니다
- IP 주소와 포트 기반의 상세한 트래픽 분석이 가능합니다
- 네트워크 연결 문제의 근본 원인을 파악할 수 있습니다

## 3. 핵심 로그 필드

- **account-id**: 트래픽이 발생한 AWS 계정을 식별합니다
- **srcaddr**: 트래픽의 출발지 IP 주소를 나타냅니다
- **dstaddr**: 트래픽의 목적지 IP 주소를 표시합니다
- **srcport**: 출발지 포트 번호를 기록합니다
- **dstport**: 목적지 포트 번호를 나타냅니다
- **protocol**: 사용된 네트워크 프로토콜을 표시합니다
- **action**: 트래픽 허용/거부 여부를 나타냅니다
- **log-status**: 로깅 작업의 성공/실패를 표시합니다

## 4. 활용 사례

### 4.1 보안 모니터링

- 비정상적인 트래픽 패턴을 감지할 수 있습니다
- 잠재적인 보안 위협을 사전에 식별할 수 있습니다
- 보안 정책의 효과를 검증할 수 있습니다

### 4.2 성능 최적화

- 네트워크 병목 현상을 파악할 수 있습니다
- 트래픽 패턴을 분석하여 리소스 사용을 최적화할 수 있습니다
- 비용 효율적인 네트워크 설계가 가능합니다

## 5. 구현 가이드

### 5.1 CloudWatch 통합 구성

- CloudWatch Logs 로그 그룹을 생성합니다
- VPC Flow Logs에 필요한 IAM 역할을 설정합니다
- 메트릭 필터를 구성하여 주요 지표를 모니터링합니다

### 5.2 알림 시스템 구축

- CloudWatch Alarms를 설정하여 이상 징후를 감지합니다
- SNS 토픽을 생성하여 알림을 구성합니다
- Lambda 함수를 통해 자동화된 대응을 구현합니다

### 5.3 분석 파이프라인 구성

- S3 버킷에 로그를 저장하도록 설정합니다
- Athena 테이블을 생성하여 로그 분석을 준비합니다
- QuickSight 대시보드로 시각화합니다

## 6. 모범 사례

### 6.1 로깅 전략

- 중요한 VPC와 서브넷에 대해 전체 로깅을 활성화합니다
- 비용 효율성을 고려하여 로그 보존 기간을 설정합니다
- 정기적으로 로그를 분석하여 패턴을 파악합니다

### 6.2 보안 강화

- 민감한 정보가 포함된 로그에 대해 암호화를 적용합니다
- IAM 정책을 통해 로그 접근을 제한합니다
- 정기적으로 보안 감사를 수행합니다

## 7. 문제 해결 가이드

### 7.1 일반적인 문제

- 로그가 생성되지 않는 경우 IAM 권한을 확인합니다
- 특정 트래픽이 누락된 경우 필터 설정을 검토합니다
- 로그 지연이 발생하면 대상 서비스의 상태를 점검합니다

### 7.2 해결 절차

- 문제 증상을 정확히 파악합니다
- 관련 로그를 수집하고 분석합니다
- 필요한 구성 변경을 단계적으로 적용합니다
- 변경 효과를 모니터링하고 검증합니다