## 1 AWS Organizations

- AWS Organizations는 다중 AWS 계정을 중앙에서 관리할 수 있는 서비스로, 통합 결제, 정책 제어, 리소스 관리를 통해 효율적이고 안전한 계정 관리를 지원합니다.
- 이를 통해 조직 내의 여러 계정을 중앙에서 관리하고, 보안 및 규정 준수 요구 사항을 일관되게 적용할 수 있습니다.



## 2 주요 기능

### 2.1 관리 계정과 멤버 계정

- **관리 계정**
    - AWS Organizations의 주 계정으로, 전체 조직을 관리합니다.
    - 통합 결제, 계정 생성 및 관리, 정책 적용 등 다양한 기능을 수행합니다.
    - 관리 계정은 모든 SCP의 영향을 받지 않으며, 전체 관리자 권한을 가집니다.
- **멤버 계정**
    - 조직 내에서 관리되는 개별 계정입니다.
    - 하나의 조직에만 속할 수 있으며, 관리 계정에 의해 관리 및 제어됩니다.



### 2.2 통합 결제

- **통합 결제**
    - 모든 계정을 하나의 결제 방법으로 관리하여 비용을 중앙에서 통제할 수 있습니다.
    - 각 계정별로 발생하는 비용을 구체적으로 추적할 수 있으며, 이를 통해 비용 절감 방안을 모색할 수 있습니다.
- **가격 혜택**
    - EC2, S3 등 다양한 AWS 서비스에서 볼륨 할인 혜택을 받을 수 있습니다.
    - 모든 계정에서 예약 인스턴스 및 Savings Plans 할인 혜택을 공유할 수 있습니다.



### 2.3 계정 자동 생성 API

- **API**
    - 조직 내에서 새로운 AWS 계정을 자동으로 생성할 수 있는 API를 제공합니다.
    - 이를 통해 새로운 프로젝트나 팀을 위한 계정 생성을 간소화하고 신속하게 수행할 수 있습니다.



## 3 AWS Organizations의 구성 요소

### 3.1 조직 유닛 (OU)

- **OU 정의**
    - AWS Organizations에서 계정을 논리적으로 그룹화하여 관리하는 단위입니다.
    - 유사한 목적이나 요구 사항을 가진 계정을 함께 묶어 관리할 수 있습니다.
- **OU 계층 구조**
    - OU는 계층 구조를 가질 수 있으며, 상위 OU에 적용된 정책은 하위 OU와 계정에도 자동으로 적용됩니다.
    - 예를 들어, 개발 환경, 테스트 환경, 프로덕션 환경을 각각의 OU로 구성할 수 있습니다.



### 3.2 서비스 제어 정책 (SCP)

- **SCP 정의**
    - SCP는 AWS Organizations에서 계정 또는 OU에 적용하여 리소스에 대한 액세스 권한을 제한하는 정책입니다.
    - SCP는 IAM 정책과 달리 권한을 부여하는 것이 아니라, 계정이 가질 수 있는 권한의 최대 범위를 정의합니다.
- **SCP 예시**
    - 특정 서비스 사용을 제한하거나, 특정 인스턴스 타입의 사용을 금지하는 등의 정책을 작성할 수 있습니다.
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Deny",
      "Action": [
        "ec2:RunInstances"
      ],
      "Resource": "*",
      "Condition": {
        "StringEquals": {
          "ec2:InstanceType": [
            "m5.24xlarge",
            "c5.18xlarge"
          ]
        }
      }
    }
  ]
}

```

- **SCP 적용**
    - OU 또는 개별 계정에 적용하여, 지정된 조건에 따라 리소스 접근을 제한할 수 있습니다.
    - 관리 계정에는 SCP가 적용되지 않으며, 전체 관리자 권한을 가집니다.



## 4 AWS Organizations의 장점

- **효율적인 계정 관리**
    - 여러 AWS 계정을 중앙에서 효율적으로 관리할 수 있습니다.
    - 조직 내의 다양한 계정을 관리하고, 정책을 일관되게 적용할 수 있습니다.
- **비용 절감**
    - 통합 결제와 볼륨 할인으로 비용을 절감할 수 있습니다.
    - 모든 계정에서 예약 인스턴스와 Savings Plans 할인 혜택을 공유하여 비용 효율성을 극대화할 수 있습니다.
- **보안 및 규정 준수**
    - 중앙에서 보안 정책과 규정 준수 요구 사항을 관리할 수 있습니다.
    - SCP를 통해 계정별로 세밀한 권한 제어를 할 수 있으며, 이를 통해 보안 리스크를 최소화할 수 있습니다.



## 5 AWS Organizations의 활용 사례

### 5.1 멀티 계정 vs 하나의 계정 멀티 VPC

- **멀티 계정**
    - 보안, 비용 관리, 접근 제어를 각 계정 단위로 독립적으로 관리할 수 있습니다.
    - 중앙에서 각 계정의 리소스와 비용을 통합 관리할 수 있습니다.
- **하나의 계정 멀티 VPC**
    - 단일 계정 내에서 VPC를 분리하여 리소스를 관리합니다.
    - 멀티 계정의 장점인 계정 간 격리를 활용하지 못하는 경우에도 유용합니다.



### 5.2 중앙 로깅

- **CloudTrail 로그**
    - 모든 계정에서 CloudTrail을 활성화하고 중앙 S3 계정으로 로그를 전송합니다.
    - 중앙에서 모든 계정의 활동을 모니터링하고 감사할 수 있습니다.
- **CloudWatch 로그**
    - 모든 계정에서 CloudWatch 로그를 중앙 로깅 계정으로 전송합니다.
    - 애플리케이션의 상태와 성능을 중앙에서 모니터링할 수 있습니다.



**참고 자료**

- [AWS Organizations 공식 문서](https://docs.aws.amazon.com/organizations/latest/userguide/)